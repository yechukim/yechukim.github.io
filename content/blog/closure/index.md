---
title: 클로저
date: "2021-10-16"
description: "자바스크립트에서 꼭 알아야 하는 개념 "
---
## 변수의 유효 범위와 클로저

### 코드 블록 
- 코드 블록안에서 선언한 변수는 블록 안에서만 사용할 수 있다. 

## Lexical Environment
1. 변수 
- 자바스크립트에서는 함수, 코드블록, 스크립트 전체는 *렉시컬 환경* 이라 불리는 *내부 숨김 연관 객체*를 갖는다.

렉시컬 환경 객체는 두 부분으로 구성된다. 
> 1. 환경 레코드 : 모든 지역변수를 프로퍼티로 저장한다. 
> 2. 외부 렉시컬 환경에 대한 참조 : 외부코드와 연관 

**변수** 는 특수 내부 객체인 *환경 레코드* 의 프로퍼티일 뿐이다.  
즉, **변수**를 가져오거나 변경하는 것은 *환경 레코드* 의 프로퍼티를 가져오거나 변경하는 것이다.

2. 함수 선언문
- 함수 선언문으로 선언한 함수는 일반 변수와 달리 바로 초기화 된다
*그래서 선언되기 전에도 함수를 사용할 수 있는 것*
*함수 표현식에는 해당없음*

3. 내부 & 외부 렉시컬 환경
- 함수를 호출하고 실행하면 새로운 렉시컬 환경이 자동으로 만들어진다. 이 환경에 함수 호출시 넘겨받은 매개변수와 함수의 지역변수가 저장된다. 
*코드에서 변수에 접근할 때 내부 렉시컬 환경부터 검색하고, 원하는 변수를 찾을 때까지 내부 렉시컬 환경이 참조하는 외부 렉시컬 환경으로 확장한다.*
**이 과정은 겁색 범위가 전역 렉시컬 환경이 될 때까지 반복함**

4. 함수를 반환하는 함수 
